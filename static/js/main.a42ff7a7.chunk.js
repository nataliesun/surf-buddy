(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(t,e,a){t.exports=a(297)},165:function(t,e,a){},289:function(t,e,a){},295:function(t,e,a){},296:function(t,e,a){},297:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),c=a(39),r=a.n(c),i=a(52),s=(a(165),a(22)),l=a(23),u=a(25),p=a(24),h=a(26),m=a(31),d=a(303),f=o.a.createContext({spots:[{key:"",text:"",value:""}],locationData:[],setLocationData:function(){},location:"",countyData:[]});function v(t){return t.ok?Promise.resolve(t):(console.log(t),Promise.reject(new Error(t.statusText)))}function b(t){return t.json()}var y=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).getLocationData=function(t){var e=t.split(",")[0],n=t.split(",")[1].replace(/\s+/g,"-").toLowerCase(),o=["http://api.spitcast.com/api/spot/forecast/".concat(e,"/"),"http://api.spitcast.com/api/county/water-temperature/".concat(n,"/")];Promise.all(o.map(function(t){return fetch(t).then(v).then(b).catch(function(t){alert("No data for location, please try another."),console.log("There was a problem!",t)})})).then(function(t){a.context.setLocationData(t[0],t[1]),a.props.history.push("/forecast")}).catch(function(t){return console.log("There was a problem!",t)})},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return o.a.createElement("div",{className:"Form"},o.a.createElement(d.a,{icon:"search",placeholder:"Spot",search:!0,selection:!0,options:this.props.spots,onChange:function(e,a){var n=a.value;return t.getLocationData(n)}}))}}]),e}(n.Component);y.contextType=f;var g=Object(m.d)(y),E=(a(289),function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"WelcomePage"},o.a.createElement("div",{className:"content"},o.a.createElement("h2",null,"Wave Buddy"),o.a.createElement(g,{spots:this.context.spots})))}}]),e}(n.Component));E.contextType=f;var j=E,x=a(99),O=a(150),D=(a(295),function(t){function e(){return Object(s.a)(this,e),Object(u.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{className:"NavBar"},o.a.createElement(i.b,{to:"/"},o.a.createElement("h2",null,"Wave Buddy")),o.a.createElement(g,{spots:this.context.spots}))}}]),e}(n.Component));D.contextType=f;var k=D,w=function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={activeIndex:-1},a.handleClick=function(t,e){var n=e.index,o=a.state.activeIndex===n?-1:n;a.setState({activeIndex:o})},a.getMinAndMaxFt=function(t){var e=t[0].size,n=t[0].size;return a.context.locationData.forEach(function(t){var a=t.size;a<e&&(e=a),a>n&&(n=a)}),e===n?"".concat(e,"ft"):"".concat(e,"-").concat(n,"ft")},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this.context,e=t.locationData,a=t.location,n=t.countyData,c={labels:e.map(function(t){return t.hour}),datasets:[{label:"Wave height (ft)",backgroundColor:x.colors.med,borderColor:x.colors.dark,data:e.map(function(t){return t.size}),borderWidth:2}]};return o.a.createElement("section",{className:"forecast-display"},o.a.createElement(k,null),0===this.context.locationData.length&&o.a.createElement("h3",null,"Select a location from the search box"),this.context.locationData.length>0&&o.a.createElement("div",{className:"ui vertical stripe segment"},o.a.createElement("div",{className:"ui text container"},o.a.createElement("h2",null,a),o.a.createElement(O.a,{data:c,options:{scales:{yAxes:[{display:!0,ticks:{suggestedMin:0,beginAtZero:!0,max:7}}]}}})),o.a.createElement("div",{className:"ui header"},o.a.createElement("h3",null,"Wave height: ",this.getMinAndMaxFt(e)),o.a.createElement("div",{className:"temp"},o.a.createElement("p",null,"Water temp: ",n.fahrenheit,"\xb0F"),o.a.createElement("p",null,"Recommended: ",n.wetsuit)))))}}]),e}(n.Component);w.contextType=f;var C=w,N=(a(296),function(t){function e(){var t,a;Object(s.a)(this,e);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(u.a)(this,(t=Object(p.a)(e)).call.apply(t,[this].concat(o)))).state={spots:[{key:"",text:"",value:""}],locationData:[],location:"",countyData:{},error:null},a.setLocationData=function(t,e){a.setState({locationData:t,location:t[0].spot_name,countyData:e})},a}return Object(h.a)(e,t),Object(l.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch("http://api.spitcast.com/api/spot/all").then(function(t){return t.json()}).then(function(t){return t.map(function(t){return{key:t.spot_id,text:t.spot_name,value:"".concat(t.spot_id,",").concat(t.county_name)}})}).then(function(e){return t.setState({spots:e})})}},{key:"render",value:function(){var t={spots:this.state.spots,location:this.state.location,locationData:this.state.locationData,countyData:this.state.countyData,setLocationData:this.setLocationData};return o.a.createElement(f.Provider,{value:t},o.a.createElement("div",{className:"App"},o.a.createElement(m.a,{exact:!0,path:"/",component:j}),o.a.createElement(m.a,{exact:!0,path:"/forecast",component:C})))}}]),e}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=document.createElement("link");W.rel="stylesheet",W.href="https://cdn.jsdelivr.net/npm/semantic-ui/dist/semantic.min.css",document.head.appendChild(W),r.a.render(o.a.createElement(i.a,null,o.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},99:function(t,e){t.exports={colors:{darkest:"rgba(0,28,72, .4)",dark:"rgba(0,70,129, .4)",med:"rgba(0,138,189, .4)",light:"rgba(151,203,220, .4)",lightest:"rgb(221,232,240)"}}}},[[160,1,2]]]);
//# sourceMappingURL=main.a42ff7a7.chunk.js.map